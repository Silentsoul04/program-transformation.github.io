::: {.fullPage}
::: {.twikiMiddleContainer}
::: {.twikiLeftBar}
::: {.twikiLeftBarContents}
**[TWiki](http://TWiki.org/)**

-   **[Welcome](WelcomeGuest){.twikiLink}**
-   **[Register](TWikiRegistration){.twikiLink}**

------------------------------------------------------------------------

-   **TWiki Web**
-   [TWiki Web Home](WebHome){.twikiLink}
-   [Changes](WebChanges){.twikiLink}
-   [Topics](WebTopicList){.twikiLink}
-   [Index](WebIndex){.twikiLink}
-   [Search](WebSearch){.twikiLink}

------------------------------------------------------------------------

-   **TWiki Webs**
    -   [BX12](../BX12/WebHome){.twikiLink}
    -   [Book](../Book/WebHome){.twikiLink}
    -   [CC[^?^](http://www.program-transformation.org/edit/CC/WebHome?topicparent=TWiki.WindowsInstallSummary)]{.twikiNewLink
        style="background : #FFFFCE;"}
    -   [Compare](../Compare/WebHome){.twikiLink}
    -   [GPCE06](../GPCE06/WebHome){.twikiLink}
    -   [GPCE08](../GPCE08/WebHome){.twikiLink}
    -   [GPCE09](../GPCE09/WebHome){.twikiLink}
    -   [GPCE10](../GPCE10/WebHome){.twikiLink}
    -   [GPCE11](../GPCE11/WebHome){.twikiLink}
    -   [GPCE12](../GPCE12/WebHome){.twikiLink}
    -   [GPCE13](../GPCE13/WebHome){.twikiLink}
    -   [GPCE14](../GPCE14/WebHome){.twikiLink}
    -   [Gmt](../Gmt/WebHome){.twikiLink}
    -   [Gpce](../Gpce/WebHome){.twikiLink}
    -   [Gpce03](http://www.program-transformation.org/Gpce03/WebHome){.twikiLink}
    -   [Gpce04](../Gpce04/WebHome){.twikiLink}
    -   [Gpce05](../Gpce05/WebHome){.twikiLink}
    -   [Gpceorg](../Gpceorg/WebHome){.twikiLink}
    -   [HART14](../HART14/WebHome){.twikiLink}
    -   [IFIPWG211](http://www.program-transformation.org/IFIPWG211/WebHome){.twikiLink}
    -   [IPA06](../IPA06/WebHome){.twikiLink}
    -   [Main](../Main/WebHome){.twikiLink}
    -   [Octave](../Octave/WebHome){.twikiLink}
    -   [PEPM07](../PEPM07/WebHome){.twikiLink}
    -   [PEPM08](../PEPM08/WebHome){.twikiLink}
    -   [PEPM10](../PEPM10/WebHome){.twikiLink}
    -   [PEPM11](../PEPM11/WebHome){.twikiLink}
    -   [PEPM12](../PEPM12/WebHome){.twikiLink}
    -   [PEPM13](../PEPM13/WebHome){.twikiLink}
    -   [PEPM14](../PEPM14/WebHome){.twikiLink}
    -   [PHP](../PHP/WebHome){.twikiLink}
    -   [Sandbox](../Sandbox/WebHome){.twikiLink}
    -   [Sdf](../Sdf/WebHome){.twikiLink}
    -   [SdfBackup](../SdfBackup/WebHome){.twikiLink}
    -   [Spoofax](../Spoofax/WebHome){.twikiLink}
    -   [Stratego](../Stratego/WebHome){.twikiLink}
    -   [Sts](../Sts/WebHome){.twikiLink}
    -   [TWiki](WebHome){.twikiLink}
    -   [Tiger](../Tiger/WebHome){.twikiLink}
    -   [Tools](../Tools/WebHome){.twikiLink}
    -   [Transform](../Transform/WebHome){.twikiLink}
    -   [Variability](../Variability/WebHome){.twikiLink}
    -   [WGLD](../WGLD/WebHome){.twikiLink}
    -   [WebDSL](../WebDSL/WebHome){.twikiLink}
    -   [default](DefaultWebHome){.twikiLink}

::: {.twikiLeftBarPersonal}
::: {style="overflow:auto; height:1px; width:1px;"}
Changes Index Search

------------------------------------------------------------------------

Webs Book Compare GPCE06 Gmt Gpce Gpce04 Gpce05 IFIPWG211 IPA06 Main
Octave PEPM07 PEPM08 PHP Sandbox Sdf Stratego Sts TWiki Tiger Tools
Transform Variability default
[porn](http://www.estrategiavirtual.com/adult/) [free
porn](http://www.estrategiavirtual.com/free/)
:::
:::
:::
:::

::: {.twikiMain}
::: {.toolBar}
::: {.flexMenuBar}
::: {.flexMenu onmouseover="return showMenu(event, 100);" onmouseout="return hideMenu(event, 100);"}
Page

::: {#flexMenuContent100 .flexMenuContent}
-   [Edit
    Page](http://www.program-transformation.org/edit/TWiki/WindowsInstallSummary?t=1536826940)
-   [Rename
    Page](http://www.program-transformation.org/rename/TWiki/WindowsInstallSummary)
-   [Attach
    File](http://www.program-transformation.org/attach/TWiki/WindowsInstallSummary)

<!-- -->

-   [Printable](http://www.program-transformation.org/view/TWiki/WindowsInstallSummary?skin=print.pattern)
-   [Wiki
    Source](http://www.program-transformation.org/view/TWiki/WindowsInstallSummary?skin=text&raw=on&contenttype=text/plain)

<!-- -->

-   [Rev
    1](http://www.program-transformation.org/view/TWiki/WindowsInstallSummary?rev=1.1)
-   [Total
    History](http://www.program-transformation.org/rdiff/TWiki/WindowsInstallSummary)

<!-- -->

-   [More
    \...](http://www.program-transformation.org/oops/TWiki/WindowsInstallSummary?template=oopsmore&param1=1.1&param2=1.1)
:::
:::

::: {.flexMenu onmouseover="return showMenu(event, 102);" onmouseout="return hideMenu(event, 102);"}
Web

::: {#flexMenuContent102 .flexMenuContent}
-   [Recent Changes](WebChanges){.twikiLink}
-   [Notify Service](WebNotify){.twikiLink}
-   [News](WebNews){.twikiLink}

<!-- -->

-   [Page Index](WebIndex){.twikiLink}
-   [Search](WebSearch){.twikiLink}

<!-- -->

-   [More
    \...](http://www.program-transformation.org/oops/TWiki/WindowsInstallSummary?template=oopsmore&param1=1.1&param2=1.1)
:::
:::

::: {.flexMenu onmouseover="return showMenu(event, 103);" onmouseout="return hideMenu(event, 103);"}
Wiki

::: {#flexMenuContent103 .flexMenuContent}
-   [About
    TWiki](http://www.program-transformation.org/view/TWiki/WebHome)
-   [Text
    Formatting](http://www.program-transformation.org/view/TWiki/TextFormattingRules)

<!-- -->

-   [Registration](http://www.program-transformation.org/view/TWiki/TWikiRegistration)
-   [Change
    Password](http://www.program-transformation.org/view/TWiki/ChangePassword)
-   [Reset
    Password](http://www.program-transformation.org/view/TWiki/ResetPassword)

<!-- -->

-   [Users](http://www.program-transformation.org/view/Main/TWikiUsers)
-   [Groups](http://www.program-transformation.org/view/Main/TWikiGroups)
:::
:::
:::
:::

::: {.twikiTopic}
Windows Install Summary {#windows-install-summary .twikiTopicTitle}
=======================

::: {.twikiWebTitle}
TWiki
:::

[]{#Nutshell_Summary_of_Windows_Inst}[]{#_Nutshell_Summary_of_Windows_Ins} Nutshell Summary of Windows Install Cookbook
=======================================================================================================================

This summary of
[WindowsInstallCookbook](WindowsInstallCookbook){.twikiLink} is for you
if:

-   You\'ve already installed TWiki on Windows before and want a quick
    refresher of the important points.
-   You\'ve never installed TWiki on Windows before, but find the
    [WindowsInstallCookbook](WindowsInstallCookbook){.twikiLink} too
    much to swallow right now. It is recommended you read through this
    summary to build a picture of the overall process, and then use the
    full cookbook as your guide as you actually do the install.

Table of Content:

::: {.twikiToc}
-   [The Essentials](WindowsInstallSummary#The_Essentials)
-   [Download, Install & Test
    Apache-Win32](WindowsInstallSummary#Download_Install_Test_Apache_Win)
-   [Download, Install & Test
    Cygwin](WindowsInstallSummary#Download_Install_Test_Cygwin)
-   [Configure Apache](WindowsInstallSummary#Configure_Apache)
-   [Install TWiki](WindowsInstallSummary#Install_TWiki)
    -   [Configure TWiki](WindowsInstallSummary#Configure_TWiki)
    -   [Edit the CGI
        Scripts](WindowsInstallSummary#Edit_the_CGI_Scripts)
    -   [Perl module
        installation](WindowsInstallSummary#Perl_module_installation)
    -   [Re-lock RCS files](WindowsInstallSummary#Re_lock_RCS_files)
    -   [Email Setup](WindowsInstallSummary#Email_Setup)
-   [Testing your TWiki
    Installation](WindowsInstallSummary#Testing_your_TWiki_Installation)
:::

[]{#The_Essentials} The Essentials
----------------------------------

TWiki will run on any combination of **Operating System + Perl +
Webserver**. **TWiki requires all three but doesn\'t care which three**.
Each permutation has its own quirks to deal with. Which combination is
easiest depends on your personal background and experience. This guide
covers only one possible configuration of many: Windows 2000/XP +
Perl-Cygwin + Apache-Win32.

TWiki also requires the RCS revision control system but is more picky
about which flavour (this guide uses RCS-cygwin).

Head to <http://twiki.org/> and download the latest release.

[]{#Download_Install_Test_Apache_Win} Download, Install & Test Apache-Win32
---------------------------------------------------------------------------

<http://www.apache.org/dyn/closer.cgi> and download
**apache\_1.3.X-win32-x86-no\_src.msi** where \'X\' is 20 or higher.
There are some issues with Apache 2, see
[TWiki:Codev.IssuesWithApache2dot0](http://twiki.org/cgi-bin/view/Codev.IssuesWithApache2dot0 "'Codev.IssuesWithApache2dot0' on TWiki.org").

[]{#Download_Install_Test_Cygwin} Download, Install & Test Cygwin
-----------------------------------------------------------------

<http://cygwin.com>, and click the *Install Cygwin Now* link. Save the
setup.exe in a directory, e.g. c:\\download\\cygwin-dist. Run the Cygwin
setup.exe file - this will also install Perl and RCS in one fell swoop.

-   Choose *Internet Install* ; make sure default text file type is
    unix.; If you have the bandwidth and the drive space it is easier
    just to install everything ( *Install All* ).
-   The following packages are the minimal installation (\~12mb):
    `bash, binutils, diffutils, gcc, grep, gzip, make, nano, ncftp, pcre, perl (5.6.1-2 or higher, but not 5.8.0), rcs (5.7-2 or higher), tar, textutils, unzip, w32api, wget`

Set the `HOME` environment variable to `c:\cygwin\home\administrator`
through the Control Panel, System applet.

Fire up Cygwin and verify the version numbers are correct. RCS: 5.7,
Perl: 5.6.1.

Configure cygwin for binary mode ***omitting this step leads to a
partially working system that corrupts RCS files***.

-   Configure:
    `mount -b -s c:/twiki /twiki && mount -b -s c:/ /c && mount -b -c /cygdrive && mount`
-   Test: `cd /twiki && echo hi >t && cat -v t` ;the output should be
    `hi` *anything else indicates a problem.*

[]{#Configure_Apache} Configure Apache
--------------------------------------

Edit `c:/apache/conf/httpd.conf` and adapt to local environment as
necessary. Change

-   DocumentRoot from \"C:/apache/htdocs\" to \"C:/twiki\"
-   \<Directory \"C:/apache/htdocs\"\> to \<Directory \"C:/twiki\"\>
-   Add:

<!-- -->

    <Directory  "C:/twiki/bin/">
        # Changing default None to All in next line, to enable .htaccess
        AllowOverride All
        Allow From All
        Options  ExecCGI
        SetHandler cgi-script
    </Directory>

    # Environment setup required to run Apache as service or as a
    # standalone process.
    <IfModule mod_env.c>
       # Adjust TZ for your server timezone, e.g. EST5EDT - put the non-daylight-savings
       # timezone code first (e.g. EST or GMT), followed by the number of hours that it's behind GMT 
       # during non-daylight-savings time (use '-5' for timezones in advance of GMT).
       SetEnv TZ GMT0BST
       SetEnv RCSINIT -x,v/
       # Adjust TEMP and TMP for your server and create directories if necessary
       SetEnv TEMP c:/temp
       SetEnv TMP c:/temp
       SetEnv LOGNAME system
       SetEnv HOME c:/twiki
    </IfModule>

Add an AddHandler line to the `<IfModule mod_mime.c>` section of
httpd.conf - this removes the need to rename all the TWiki CGI scripts
later in the installation. Note the trailing \'.\' on the AddHandler
line.

    #
    # Document types
    #
    <IfModule mod_mime.c>
        # TWiki setup - avoid renaming scripts
        AddHandler cgi-script .
    </IfModule>

[]{#Install_TWiki} Install TWiki
--------------------------------

Download the latest TWiki release and save it in the c:/twiki directory.
Unzip in place.

### []{#Configure_TWiki} Configure TWiki

Edit `c:/twiki/lib/TWiki.cfg` and adapt to local environment. Pay
attention to the section \"\# variables that need to be changed when
installing on a new server:\". Example values (assumes cygwin-perl is
being used. ActiveState users need a different syntax. Read the real
cookbook for details,):

    $wikiHomeUrl      = "http://yourdomain.com/bin/view";
    $defaultUrlHost   = "http://yourdomain.com";
    $scriptUrlPath    = "/bin";
    $pubUrlPath       = "/pub";
    $pubDir           = "/twiki/pub";
    $templateDir      = "/twiki/templates";
    $dataDir          = "/twiki/data";
    $safeEnvPath      = "/bin";
    $rcsDir           = "c:/cygwin/bin";
    $egrepCmd         = "/bin/grep -E";
    $fgrepCmd         = "/bin/grep -F";

### []{#Edit_the_CGI_Scripts} Edit the CGI Scripts

You must use the Cygwin shell to do this (unless you are a Perl expert)
- don\'t use the Windows command shell, cmd.exe (aka DOS Prompt). Change
`#!/usr/bin/perl -wT` *to* `#!c:/cygwin/bin/perl -wT` . Example script
to do this
([explanation](WindowsInstallCookbook#Editing_the_CGI_scripts){.twikiAnchorLink}):

-   `$ perl -pi~ -e 's;#!/usr/bin/perl;#!c:/cygwin/bin/perl;' *[a-z]`

### []{#Perl_module_installation} Perl module installation

From the Cygwin shell, type `export TEMP=/c/temp` (add it to
`~/.profile), then fire up cpan` (will ask a schwack configuration
questions if it hasn\'t been run before) and install =Net::SMTP,
Digest::SHA1, MIME::Base64

### []{#Re_lock_RCS_files} Re-lock RCS files

Go to <http://yourdomain.com/bin/testenv> - this provides a lot of
detail, including warnings. Write down the Apache server\'s userid that
is given by this script - typically either \'system\' or
\'administrator\' - I\'ll assume \'system\' from now on.

-   backup all the twiki data files:
    `cd /twiki/data && tar czvf all-files.tar.gz */*`
-   Edit all the RCS files at once:
    `perl -pi~~~ -e 'NR <= 10 && s/nobody:/system:/' */*,v `

If something goes wrong: to restore your existing files from the backup,
just type `tar xzvf all-files.tar.gz` and all your files, both .txt and
.txt,v, will be back as they were before the edits.

After a few days of everything working well come back and delete the
files which end with \~\~\~.

### []{#Email_Setup} Email Setup

Set the `SMTPMAILHOST` variable in
[TWikiPreferences](TWikiPreferences){.twikiLink} to an SMTP email host
that is reachable and currently working. In the same place, you also
want to change `WIKIWEBMASTER` and `SMTPSENDERHOST`.

[]{#Testing_your_TWiki_Installation} Testing your TWiki Installation
--------------------------------------------------------------------

-   testenv - use <http://yourdomain.com/bin/testenv> and check for
    warnings
-   Page viewing (view script) - click around a few pages and make sure
    the links are OK
-   RCS diffs (rdiff script) - click on the Diffs link and on the \'\>\'
    links at bottom of page
-   Edit a page, and register as a new user - tests page creation, use
    of register script to create a new user entry in
    /twiki/data/.htpasswd (the Apache password file), ability to send
    email via Net::SMTP, and whether SMTPMAILHOST was set correctly in
    [TWikiPreferences](TWikiPreferences){.twikiLink}.
    -   If you get a failure to register or send email, check the Apache
        error log, and that all CPAN modules were installed correctly in
        Step 6, Installing required Perl modules.
    -   Try typing tail -30 /c/apache/logs/error\_log to see last 30
        errors from Apache
-   Edit a page - check revision increased and set to current date/time
-   Edit the same page using another browser or PC, logging in as a
    different user - check there\'s a lock message (which you can
    override) and no double lines
-   Check the Apache error\_log file to see if there are any RCS errors
    so far
-   Index - tests whether ls and grep are working
-   Search - more tests for whether ls and grep are working
-   Attachments - tests access to /twiki/pub directory.

<!-- -->

-   -   Try a binary attachment upload and check the number of bytes in
        the file has not changed - if it has, see the Install Cygwin
        section\'s note on the default text file type.

-   Check the Apache error\_log file again

If anything doesn\'t work, go back and check the configuration of the
Apache httpd.conf file, and TWiki.cfg. Have a look at the Apache error
log, `c:/apache/logs/error_log` ,and the TWiki error log,
`/twiki/data/log*.txt` ,and if necessary enable debugging on selected
scripts (the commands are right at the top of each script) - the results
go into `/twiki/data/debug.txt` .There is also a
`/twiki/data/warning.txt` file that contains less serious messages.\
[]{#TopicEnd}
:::

::: {.twikiTopicInfo .twikiRevInfo .twikiGrayText .twikiMoved}
:::
:::
:::
:::
